(()=>{function e(e){const t=document.getElementById("log");t.querySelectorAll("p").length>7&&t.firstElementChild.remove();const n=document.createElement("p");n.textContent=e,t.append(n)}function t(e,t){document.getElementById("trial").textContent=new Array(e).fill(t).join("")}let n=null,r=0;const a=["• Press the 'Start' button.","• You have a secret number between 0 & 999.","• If the secret number is less than 100,","it will have a leading zero.","• Guess each digit of the secret number.","• You have 7 chances to guess it."],u=document.getElementById("start"),c=document.getElementById("guess-form"),o=document.getElementById("first-digit"),i=document.getElementById("second-digit"),l=document.getElementById("third-digit"),s=document.getElementById("info"),d=document.getElementById("popup"),g=document.getElementById("popup-content"),m=document.getElementById("ok");u.addEventListener("click",(()=>{document.getElementById("log").innerHTML="",n=function(){let e=Math.floor(1e3*Math.random());const t=[];for(let n=0;n<3;n++){const n=e%10;t.unshift(n.toString()),e-=n,e/=10}return t}(),r=7,t(r,"🩷"),o.value="",i.value="",l.value="",e("Secret number generated!")})),c.addEventListener("submit",(function(a){if(a.preventDefault(),null===n)e("Press Start Button");else{const a=[o.value,i.value,l.value],u=function(e,t){const n={isGuessed:!1,rightNumber:0,rightPlace:0};for(let r=0;r<3;r++)t.includes(e[r])&&n.rightNumber++,t[r]===e[r]&&n.rightPlace++;return n}(a,n);3===u.rightNumber&&3===u.rightPlace?(t(r,"🏆"),e(`You're correct, the secret number is ${a.join("")}!`)):(r--,t(r,"🩷"),r>0?e(`${a.join("")} : ${u.rightNumber} right numbers and ${u.rightPlace} right places.`):(t(1,"💩"),e(`Game Over, the secret number is ${n.join("")}`)))}a.target.reset()})),s.addEventListener("click",(()=>{d.style.display="block",g.innerHTML="",a.forEach((e=>{const t=document.createElement("p");t.classList="text-info",t.textContent=e,g.append(t)}))})),m.addEventListener("click",(()=>{d.style.display="none"})),o.addEventListener("input",(function(e){e.target.value=e.target.value.replace(/[^0-9]/g,""),""!==e.target.value&&i.focus()})),i.addEventListener("input",(function(e){e.target.value=e.target.value.replace(/[^0-9]/g,""),""!==e.target.value&&l.focus()})),l.addEventListener("input",(function(e){e.target.value=e.target.value.replace(/[^0-9]/g,"")})),o.addEventListener("keydown",(function(e){"Backspace"===e.key&&""===e.target.value&&o.focus()})),i.addEventListener("keydown",(function(e){"Backspace"===e.key&&""===e.target.value&&o.focus()})),l.addEventListener("keydown",(function(e){"Backspace"===e.key&&""===e.target.value&&i.focus()}))})();